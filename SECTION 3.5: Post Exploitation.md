Final phase of the penetration testing process and is the set of techniques undertake after gaining initial access on a target.
- Privilege escalation
- Persistence
- Clearing tracks
**Methdology**
1. Local enumeration
    - System information
        - Hostname
        - OS name
        - OS build & service pack
        - Architecture (x64/x86)
        - Updates and hotfixes
        ```
        meterpreter> getuid
        meterpreter> sysinfo
        meterpreter> shell
        shell> hostname
        shell> systeminfo
        shell> wmic qfe get Caption,Description,HotfixID,InstalledOn
        shell> cd C:\\Windows\System32\eula.txt #end-user license agreement
        ```
    - Users and groups
        - Current user and privs
        - Additional info
        - Other users
        - Groups
        - Members of administrator group
        ```
        meterpreter> getuid
        meterpreter> getprivs
        search logged_on
        shell> whoami
        shell> whoami /priv
        shell> query user <user>
        shell> net users
        shell> ner user <username>
        shell> net localgroup
        shell> net localgroup <user>
        ```
    - Network information
        - Current ip
        - Internal networks
        - TCP & UDP services
        - Other hosts on the network
        - Routing table
        - Firewall state
        ```
        shell> ipconfig
        shell> ipconfig /all
        shell> route print
        shell> arp -a
        shell> netstat -ano
        shell> netsh firewall show state
        shell> netsh advfirewall help
        shell> netsh advfirewall dump
        shell> netsh advfirewall show allprofiles
        ```
    - Services
        - Running processes
        - Scheduled tasks
        **Note** process  is an instance of a running exe and service is a process which runs in the background and does not interact with the desktop
        ```
        meterpreter> ps
        meterpreter> pgrep <process>
        meterpreter> migrate <number process>
        shell> net start
        shell> wmic service list brief
        shell> tasklist /SVC
        shell> schtasks /query /fo LIST
        ```
    - Autamating local enumeration
        1. Open text editor
        2. Copy Jaws script
        3. Paste on jaws script
        4. Save it in temp directory on the target machine
        5. `meterpreter> upload <path to jaws>`
        6. `powershell.exe -ExecutionPolicy Bypass -File .\<file.ps1> -OutputFilename <file.txt>`
2. Transfering files
    - Setting uo a we server with python
    - Windows to Linux
    - Linux to Windows
3. Upgrading shells
    - Upgrading to meterpreter
    - Spawning TTY shells
4. Privilege escalation
    - PrivEsc vulnerabilities
5. Persistence
6. Dumping hashes
    - Dumping and cracking 
7. Pivoting
    - Network recon
    - Pivoting
8. Clearing tracks